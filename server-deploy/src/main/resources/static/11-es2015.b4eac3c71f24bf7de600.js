(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{PVDs:function(e,t,n){"use strict";n.r(t),n.d(t,"StocksModule",(function(){return v}));var o=n("3Pt+"),r=n("aceb"),i=n("vTDv"),s=n("tyNb"),a=n("fXoL");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-stocks-component"]],decls:1,vars:0,template:function(e,t){1&e&&a["\u0275\u0275element"](0,"router-outlet")},directives:[s.h],encapsulation:2}),e})();var c=n("Hmq4"),d=n("ofXK"),h=n("z+eI");function p(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"nb-option",6),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275property"]("value",e),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](e.name)}}function m(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275elementStart"](1,"h3",7),a["\u0275\u0275text"](2," Loading ... "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function u(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275element"](1,"br"),a["\u0275\u0275elementStart"](2,"h6",8),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](4,"br"),a["\u0275\u0275element"](5,"chart",9),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"](" ",e.from.name,""),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("data",e.data)("options",e.options)}}function g(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275text"](1," No Data found "),a["\u0275\u0275elementEnd"]())}const b=[{path:"",component:l,children:[{path:"stocks-menu",component:(()=>{class e{constructor(e,t){this.service=e,this.theme=t,this.from={code:"bnp.pa",name:"bnp paribas"},this.isLoading=!1,this.month=10,this.themeSubscription=this.theme.getJsTheme().subscribe(e=>{this.colors=e.variables,this.chartjs=e.variables.chartjs}),this.options={responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom",labels:{fontColor:this.chartjs.textColor}},hover:{mode:"index"},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Month"},gridLines:{display:!0,color:this.chartjs.axisLineColor},ticks:{fontColor:this.chartjs.textColor}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:this.from.name+" - "+this.from.code},gridLines:{display:!0,color:this.chartjs.axisLineColor},ticks:{fontColor:this.chartjs.textColor}}]}}}ngOnInit(){this.initList(),this.getHistory()}buildLabel(e){return e.getMonth()+"/"+e.getDay()+" "+e.getHours()+":"+e.getMinutes()}getHistory(){this.isLoading=!0,this.service.getStockHistory(this.from.code).subscribe(e=>{const t=[];e.chart.result[0].timestamp.slice(0,this.month).forEach(e=>{t.push(this.buildLabel(new Date(1e3*e)))}),this.data={labels:t,datasets:[{label:"Open",data:e.chart.result[0].indicators.quote[0].open.slice(0,this.month),borderColor:this.colors.primary,backgroundColor:this.colors.primary,fill:!1,borderDash:[5,5],pointRadius:4,pointHoverRadius:10},{label:"High",data:e.chart.result[0].indicators.quote[0].high.slice(0,this.month),borderColor:this.colors.dangerLight,backgroundColor:this.colors.dangerLight,fill:!1,borderDash:[5,5],pointRadius:4,pointHoverRadius:10},{label:"Closed",data:e.chart.result[0].indicators.quote[0].close.slice(0,this.month),borderColor:this.colors.info,backgroundColor:this.colors.info,fill:!1,pointRadius:4,pointHoverRadius:10},{label:"Low",data:e.chart.result[0].indicators.quote[0].low.slice(0,this.month),borderColor:this.colors.success,backgroundColor:this.colors.success,fill:!1,pointRadius:4,pointHoverRadius:10}]},this.isLoading=!1})}initList(){this.service.getAllStockList().subscribe(e=>{this.stockList=e})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.a),a["\u0275\u0275directiveInject"](r.rb))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-stocks-menu"]],decls:11,vars:6,consts:[["size","giant"],["type","text","nbInput","","shape","semi-round",2,"float","right",3,"ngModel","ngModelChange"],["placeholder","from","status","primary",2,"float","left","margin-right","30%","width","20%",3,"ngModel","ngModelChange","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"example-items-col"],[4,"ngIf"],[3,"value"],[2,"margin-left","20%"],[2,"text-align","center"],["type","line",2,"height","500px",3,"data","options"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"nb-card",0),a["\u0275\u0275elementStart"](1,"nb-card-header"),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275element"](3,"br"),a["\u0275\u0275elementStart"](4,"input",1),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.month=e}))("ngModelChange",(function(){return t.getHistory()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"nb-select",2),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.from=e}))("selectedChange",(function(){return t.getHistory()})),a["\u0275\u0275template"](6,p,2,2,"nb-option",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"nb-card-body",4),a["\u0275\u0275template"](8,m,3,0,"div",5),a["\u0275\u0275template"](9,u,6,3,"div",5),a["\u0275\u0275template"](10,g,2,0,"div",5),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.month),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngModel",t.from),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.stockList),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",t.isLoading),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isLoading&&t.from),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null===t.response))},directives:[r.s,r.u,r.J,o.b,o.k,o.n,r.fb,d.l,r.r,d.m,r.Z,h.ChartComponent],styles:["[_nghost-%COMP%]     nb-stepper .step-content{text-align:center}[_nghost-%COMP%]     nb-stepper .step-content button{cursor:pointer;margin:.5rem}"]}),e})()}]}];let f=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.g.forChild(b)],s.g]}),e})(),v=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.e,o.r,i.a,r.pb,r.db,r.lb,r.v,r.n,r.U,r.g,r.yb,f,h.ChartModule,r.gb,r.K]]}),e})()}}]);